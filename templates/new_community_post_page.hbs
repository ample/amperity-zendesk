<script>
  var templateName = "new_community_post";
</script>

<div class="container-divider"></div>
<div class="container section">
  <nav class="sub-nav">
    {{breadcrumbs}}
    <div class="sub-nav-search-container">
      {{search submit=true instant=true}}
    </div>
  </nav>

  <h1 class="form-header">
    {{t 'what_is_your_post_about'}}
  </h1>

  <div class="form new-post-form">
    {{#form 'post' class='new_community_post'}}
    <div class="form-field {{#required 'title'}} required {{/required}}">
      {{#required 'title'}}
      {{label 'title'}}
      {{else}}
      {{#label 'title'}}
      {{t 'title_label'}}<span class="optional">({{t 'optional'}})</span>
      {{/label}}
      {{/required}}
      {{input 'title' autofocus=true}}
      {{#validate 'title'}}
      <div class="notification notification-error notification-inline">
        {{error 'title'}}
      </div>
      {{/validate}}
    </div>

    {{suggestion_list class='suggestion-list'}}

    <div class="form-field {{#required 'details'}} required {{/required}}">
      {{#required 'details'}}
      {{label 'details'}}
      {{else}}
      {{#label 'details'}}
      {{t 'details_label'}}<span class="optional">({{t 'optional'}})</span>
      {{/label}}
      {{/required}}
      {{wysiwyg 'details'}}
      {{#validate 'details'}}
      <div class="notification notification-error notification-inline">
        {{error 'details'}}
      </div>
      {{/validate}}
    </div>

    <div class="form-field {{#required 'topic'}} required {{/required}}">
      {{#required 'topic'}}
      {{label 'topic'}}
      {{else}}
      {{#label 'topic'}}
      {{t 'topic_label'}}<span class="optional">({{t 'optional'}})</span>
      {{/label}}
      {{/required}}
      {{select 'topic'}}
      {{#validate 'topic'}}
      <div class="notification notification-error notification-inline">
        {{error 'topic'}}
      </div>
      {{/validate}}
    </div>

    <div class="form-field">
      {{#required 'content_tags'}}
      {{label 'content_tags'}}
      {{else}}
      {{#label 'content_tags'}}
      {{t 'content_tags_label'}}<span class="optional">({{t 'optional'}})</span>
      {{/label}}
      {{/required}}
      <span class="content-tags-add-hint">{{t 'content_tags_description'}}</span>
      {{multiselect 'content_tags'}}
      {{#validate 'content_tags'}}
      <div class="notification notification-error notification-inline">
        {{error 'content_tags'}}
      </div>
      {{/validate}}
    </div>

    <footer>{{input type='submit'}}</footer>
    {{/form}}
  </div>
</div>